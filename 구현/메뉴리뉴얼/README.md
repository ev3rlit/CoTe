# ë©”ë‰´ ë¦¬ë‰´ì–¼

#êµ¬í˜„ #ì™„ì „íƒìƒ‰ #ì¡°í•© #í•´ì‹œ #2021KAKAOBLIND

[ë¬¸ì œ ë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/72411)

# ë¬¸ì œ ë‚œì´ë„ ì¤‘ (Level 2)

## 1. ğŸ“Š ê°ê´€ì  ë¶„ì„ ë° ê·¼ê±°

### 1.1 ì œì•½ ì¡°ê±´ íŒŒì•…

| í•­ëª© | ê°’ | ì˜ë¯¸ |
|------|-----|------|
| `orders` ê¸¸ì´ (N) | 2 ~ 20 | ì£¼ë¬¸í•œ ì†ë‹˜ ìˆ˜ê°€ ë§¤ìš° ì ìŒ |
| `orders` ì›ì†Œ ê¸¸ì´ (M) | 2 ~ 10 | ê° ì†ë‹˜ì˜ ì£¼ë¬¸ ë©”ë‰´ ìˆ˜ë„ ë§¤ìš° ì ìŒ |
| `course` ê¸¸ì´ (K) | 1 ~ 10 | êµ¬ì„±í•  ì½”ìŠ¤ ìš”ë¦¬ ì¢…ë¥˜ ìˆ˜ë„ ì ìŒ |
| ë¬¸ìì—´ | ì•ŒíŒŒë²³ ëŒ€ë¬¸ì | A~Z, ì¤‘ë³µ ì—†ìŒ, ì •ë ¬ ì•ˆ ë˜ì–´ ìˆì„ ìˆ˜ ìˆìŒ |

### 1.2 ì‹œê°„ ë³µì¡ë„ ì—­ì‚°

**ê¸°ì¤€**: 1ì´ˆ â‰ˆ 10^8 ì—°ì‚°

| ë³µì¡ë„ | ê³„ì‚° | ë¹„ê³  |
|--------|------|------|
| ì¡°í•© ìƒì„± | 20ëª… Ã— (10C2 + ... + 10C10) | ìµœëŒ€ ê²½ìš°ì˜ ìˆ˜ |
| 10C5 | 252 | í•˜ë‚˜ì˜ ì£¼ë¬¸ì—ì„œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ìµœëŒ€ ì¡°í•© ìˆ˜ |
| ì „ì²´ ì—°ì‚° | 20 Ã— 252 â‰ˆ 5,000 | ë§¤ìš° ì—¬ìœ ë¡œì›€ |

**ì´ ë¬¸ì œì˜ ê²½ìš°**:
- N(ì†ë‹˜ ìˆ˜)ê³¼ M(ë©”ë‰´ ìˆ˜)ì´ ë§¤ìš° ì‘ìŒ.
- ëª¨ë“  ì¡°í•©ì„ ë‹¤ ë§Œë“¤ì–´ë„ ì¶©ë¶„íˆ í†µê³¼ ê°€ëŠ¥.
- **ê²°ë¡ **: **ì™„ì „íƒìƒ‰ (Combinations)** + **Counting** ì•Œê³ ë¦¬ì¦˜ í•„ìš”

### 1.3 ë¬¸ì œ íŒ¨í„´ ì¸ì‹

**í•µì‹¬ ì§ˆë¬¸**: ê°€ì¥ ë§ì´ í•¨ê»˜ ì£¼ë¬¸ëœ ë‹¨í’ˆ ë©”ë‰´ ì¡°í•©ì„ ì–´ë–»ê²Œ ì°¾ì„ê¹Œ?

| ê´€ì°° í¬ì¸íŠ¸ | ì´ ë¬¸ì œì—ì„œ | ì‹œì‚¬ì  |
|-------------|-------------|--------|
| ìµœì í•´ vs ëª¨ë“  ê²½ìš° | ê°€ì¥ ë§ì´ ì£¼ë¬¸ëœ 'ì¡°í•©' | ë¹ˆë„ìˆ˜ ì„¸ê¸° (Counting) |
| ìˆœì„œê°€ ì¤‘ìš”í•œê°€ | XYì™€ YXëŠ” ê°™ì€ ì„¸íŠ¸ | **ì¡°í•© (Combinations)** |
| ë°ì´í„° ì§‘ê³„ í•„ìš” | ì¡°í•©ë³„ ì£¼ë¬¸ íšŸìˆ˜ | **í•´ì‹œë§µ (Counter)** |

### 1.4 ì•Œê³ ë¦¬ì¦˜ ì„ íƒ ë° ë…¼ì¦

#### ğŸ¯ ìµœì¢… ì„ íƒ: ì™„ì „íƒìƒ‰ (Combinations) + í•´ì‹œ (Counter)

**ì„ íƒ ê·¼ê±° (Why this algorithm?)**

1. **ë¬¸ì œ êµ¬ì¡°ì™€ì˜ ì í•©ì„±**
   - ê° ì†ë‹˜ì˜ ì£¼ë¬¸ ë‚´ì—­ì—ì„œ ê°€ëŠ¥í•œ ëª¨ë“  ì½”ìŠ¤ ìš”ë¦¬ ì¡°í•©ì„ ì¶”ì¶œí•´ì•¼ í•¨.
   - ì¶”ì¶œëœ ì¡°í•©ë“¤ì˜ ë¹ˆë„ìˆ˜ë¥¼ ì„¸ì–´ì•¼ í•¨.
   - `itertools.combinations`ì™€ `collections.Counter`ê°€ ì´ ì‘ì—…ì— ìµœì í™”ë¨.

2. **ì œì•½ ì¡°ê±´ ì¶©ì¡±**
   - ìµœëŒ€ ì—°ì‚°ëŸ‰ì´ ì•½ 5,000~10,000íšŒ ìˆ˜ì¤€ìœ¼ë¡œ ì‹œê°„ ì œí•œ ë‚´ ì¶©ë¶„íˆ í†µê³¼.

3. **í•µì‹¬ ì¸ì‚¬ì´íŠ¸**
   - "ê°€ì¥ ë§ì´ í•¨ê»˜ ì£¼ë¬¸í•œ" â†’ **ë¹ˆë„ìˆ˜ ì¹´ìš´íŒ…**
   - "ë‹¨í’ˆ ë©”ë‰´ë“¤ì„ ì¡°í•©" â†’ **Combinations**
   - ì£¼ë¬¸ ë¬¸ìì—´ì´ ì •ë ¬ë˜ì–´ ìˆì§€ ì•Šì„ ìˆ˜ ìˆìŒ â†’ **ë¯¸ë¦¬ ì •ë ¬ í•„ìš”** ("XY"ì™€ "YX"ë¥¼ ê°™ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´)

---

## 2. ğŸ§  ìì—°ì–´ ì‹¤í–‰ íë¦„

1. **ì´ˆê¸°í™”**: ê²°ê³¼ ë°°ì—´ `answer` ìƒì„±.

2. **ì½”ìŠ¤ ê¸¸ì´ë³„ ìˆœíšŒ**:
   - `course` ë°°ì—´ì— ìˆëŠ” ê° ì½”ìŠ¤ ìš”ë¦¬ ê°œìˆ˜(`c`)ì— ëŒ€í•´ ë°˜ë³µ:
     - `candidates` ë¦¬ìŠ¤íŠ¸ ìƒì„± (ëª¨ë“  ê°€ëŠ¥í•œ ì¡°í•© ì €ì¥ìš©).

3. **ì£¼ë¬¸ë³„ ì¡°í•© ìƒì„±**:
   - ê° ì†ë‹˜ì˜ ì£¼ë¬¸(`order`)ì„ ì•ŒíŒŒë²³ìˆœìœ¼ë¡œ ì •ë ¬ (ì¤‘ìš”: "YX" -> "XY").
   - ì •ë ¬ëœ ì£¼ë¬¸ì—ì„œ `c`ê°œì˜ ë©”ë‰´ë¥¼ ë½‘ëŠ” ëª¨ë“  ì¡°í•©(`combinations`)ì„ ìƒì„±.
   - ìƒì„±ëœ ì¡°í•©ì„ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ `candidates`ì— ì¶”ê°€.

4. **ë¹ˆë„ìˆ˜ ì§‘ê³„ ë° ì„ íƒ**:
   - `Counter`ë¥¼ ì´ìš©í•´ `candidates` ë‚´ ì¡°í•©ë“¤ì˜ ë¹ˆë„ìˆ˜ ê³„ì‚°.
   - ë¹ˆë„ìˆ˜ê°€ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬.
   - ê°€ì¥ ë§ì´ ì£¼ë¬¸ëœ íšŸìˆ˜(`max_count`)ë¥¼ ì°¾ìŒ. (ìµœì†Œ 2íšŒ ì´ìƒì´ì–´ì•¼ í•¨)
   - ë¹ˆë„ìˆ˜ê°€ `max_count`ì™€ ê°™ì€ ëª¨ë“  ì¡°í•©ì„ ê²°ê³¼ `answer`ì— ì¶”ê°€.

5. **ìµœì¢… ë°˜í™˜**:
   - `answer`ë¥¼ ì•ŒíŒŒë²³ìˆœìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•˜ì—¬ ë°˜í™˜.

---

## 3. ğŸ’» Code Implementation

(ì–¸ì–´: Python)
```python
from itertools import combinations
from collections import Counter

def solution(orders, course):
    answer = []
    
    # 1. ê° ì½”ìŠ¤ ìš”ë¦¬ ê°œìˆ˜(k)ë³„ë¡œ íƒìƒ‰
    for k in course:
        candidates = []
        
        # 2. ëª¨ë“  ì£¼ë¬¸ì— ëŒ€í•´ ì¡°í•© ìƒì„±
        for order in orders:
            # "XY"ì™€ "YX"ë¥¼ ë™ì¼í•˜ê²Œ ì·¨ê¸‰í•˜ê¸° ìœ„í•´ ì •ë ¬
            sorted_order = sorted(order)
            
            # í•´ë‹¹ ì£¼ë¬¸ì—ì„œ kê°œë¥¼ ë½‘ëŠ” ì¡°í•© ìƒì„±
            for comb in combinations(sorted_order, k):
                candidates.append("".join(comb))
        
        # 3. ë¹ˆë„ìˆ˜ ì§‘ê³„
        counter = Counter(candidates)
        
        # ì¡°í•©ì´ í•˜ë‚˜ë¼ë„ ìˆê³ , ìµœì†Œ 2ëª… ì´ìƒ ì£¼ë¬¸í–ˆë‹¤ë©´
        if counter and max(counter.values()) >= 2:
            max_cnt = max(counter.values())
            # ìµœëŒ“ê°’ê³¼ ë¹ˆë„ìˆ˜ê°€ ê°™ì€ ëª¨ë“  ì¡°í•©ì„ ê²°ê³¼ì— ì¶”ê°€
            for menu, cnt in counter.items():
                if cnt == max_cnt:
                    answer.append(menu)
    
    # 4. ìµœì¢… ê²°ê³¼ ì •ë ¬
    return sorted(answer)
```

# ì‹œê°„ ë³µì¡ë„: O(N * 2^M) - N: ì£¼ë¬¸ ìˆ˜, M: ì£¼ë¬¸ ê¸¸ì´ (ìµœëŒ€ 10)
# ê³µê°„ ë³µì¡ë„: O(N * 2^M) - ëª¨ë“  ì¡°í•© ì €ì¥

### 3.1 Alternative: `defaultdict` í™œìš© í’€ì´

`Counter`ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆœìˆ˜ `defaultdict`ë¡œ êµ¬í˜„í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë…¼ë¦¬ëŠ” ë™ì¼í•©ë‹ˆë‹¤.

```python
from itertools import combinations
from collections import defaultdict

def solution(orders, course):
    answer = []
    
    for k in course:
        # 1. ì¡°í•© ë¹ˆë„ìˆ˜ ì €ì¥í•  ë”•ì…”ë„ˆë¦¬
        comb_count = defaultdict(int)
        
        # 2. ëª¨ë“  ì£¼ë¬¸ì— ëŒ€í•´ ì¡°í•© ìƒì„± ë° ì¹´ìš´íŒ…
        for order in orders:
            sorted_order = sorted(order)
            for comb in combinations(sorted_order, k):
                # íŠœí”Œì„ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ í‚¤ë¡œ ì‚¬ìš©
                key = "".join(comb)
                comb_count[key] += 1
                
        # 3. ìµœëŒ“ê°’ ì°¾ê¸° ë° ê²°ê³¼ ì¶”ê°€
        if comb_count:
            max_cnt = max(comb_count.values())
            if max_cnt >= 2:
                for menu, cnt in comb_count.items():
                    if cnt == max_cnt:
                        answer.append(menu)
                        
    return sorted(answer)
```
